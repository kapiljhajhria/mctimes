(this["webpackJsonpmc-times"]=this["webpackJsonpmc-times"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/comments06.ac6c17a7.svg"},19:function(e,t,a){e.exports=a.p+"static/media/menuVert.55dc7534.svg"},22:function(e,t,a){e.exports=a(45)},27:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){e.exports=a.p+"static/media/Roboto-Bold.e07df86c.ttf"},33:function(e,t,a){e.exports=a.p+"static/media/Roboto-Medium.58aef543.ttf"},34:function(e,t,a){e.exports=a.p+"static/media/Roboto-Regular.11eabca2.ttf"},35:function(e,t,a){e.exports=a.p+"static/media/NotoSerif-Bold.77c225c1.ttf"},36:function(e,t,a){e.exports=a.p+"static/media/NotoSerif-Regular.d1c72e0e.ttf"},37:function(e,t,a){e.exports=a.p+"static/media/RobotoSlab-Medium.d11040e2.ttf"},38:function(e,t,a){e.exports=a.p+"static/media/RobotoSlab-Regular.f7ffac60.ttf"},39:function(e,t,a){e.exports=a.p+"static/media/RobotoSlab-Bold.5b025a51.ttf"},45:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(16),r=a.n(o),l=(a(27),a(7)),c=a(5),i=(a(28),a(11)),m=a.n(i),u=a(17),p=a(9),d=(a(30),a(31),a(18)),h=a.n(d),g=a(19),f=a.n(g);a(32),a(33),a(34),a(35),a(36),a(37),a(38),a(39);function v(e){var t=e.newsType,a=e.newsStory,n=function(e){var t=new Date(e.time),a=((new Date).getTime()-(t*=1e3))/864e5,n=Math.floor(a),s=Math.floor(24*a),o=(Math.floor(60*(a-n)),e.score);return s<12&&s>=0&&o>=10*s||s>=12&&o>=120},o=n(e.newsStory);function r(){return null==a.htCurrentSubtitle?"":s.a.createElement("div",{className:"subtitle",onClick:function(){return window.open(a.url)}},function(e){var a=e.split(" ").slice(0,35).join(" ");return"main"===t?e.split(" ").slice(0,75).join(" "):a.length===e.length?e:a+" ...."}(a.htCurrentSubtitle))}function l(){return s.a.createElement("div",{className:"footer"},s.a.createElement("div",{className:"footerA"},s.a.createElement("div",{className:"src",onClick:function(){return window.open(a.url)}},function(){var e=document.createElement("a");if(!a.url)return"";var t=a.url;try{return e.setAttribute("href",t),e.hostname.replace("www.","")}catch(n){return""}}()),s.a.createElement("div",{className:"hrs-ago"},function(e,t){var a=(t-(e*=1e3))/864e5,n=Math.floor(a);return n>0?n+"d ago":Math.floor(24*a)+"h"+Math.floor(60*(a-n))+"m ago"}(a.time,Date.parse(new Date)))),s.a.createElement("div",{className:"footerB"},s.a.createElement("div",{className:"comments-row"},s.a.createElement("div",{className:"comment-img-container"},s.a.createElement("img",{className:"cmntSvgIcon",src:h.a,alt:""})),s.a.createElement("div",{className:"comment-txt",onClick:function(){return window.open("https://news.ycombinator.com/item?id="+a.id)}},a.descendants," comments")),s.a.createElement("div",{className:"points"},a.score," points"),s.a.createElement("div",{className:"vertMenuDiv"},s.a.createElement("img",{src:f.a,alt:""}))))}function c(){return s.a.createElement("div",{className:"hl",onClick:function(){return window.open(a.url)}},a.title)}return s.a.createElement("div",{className:"main"===t&&o?"newsCard main-card main-popular-card":"bottom"===t&&o?"newsCard bottom-card bottom-popular-card":"normal"===t&&o?"newsCard normal-card normal-popular-card":"normal"===t?"newsCard normal-card":"bottom"===t?"newsCard bottom-card":"main"===t&&o?"newsCard main-card":void 0},"bottom"===t||n(a)?"":c(),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"sub-body"},function(){var e=void 0===a.htCurrentSubtitle?" imgWithNoSubtitleContainer":"";return void 0!==a.htCurrentImage?s.a.createElement("div",{className:o?"imgContainer popNewsImgContainer"+e:"imgContainer"+e},s.a.createElement("img",{style:{maxHeight:"100%",maxWidth:"100%"},onClick:function(){return window.open(a.url)},className:("main"===t?"main-img":"bottom"===t?"bottom-img":"normal"===t?"nm-img":void 0)+(null==a.htCurrentSubtitle?" .imgWithNoSubtitle":""),src:null==a.htCurrentImage?"":a.htCurrentImage,alt:""})):""}(),s.a.createElement("div",{className:"txt-bodyContent"},n(a)&&"bottom"!==t?c():"","bottom"===t?c():"",r(),"bottom"===t?l():""))),"bottom"!==t?l():"")}function w(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)([]),i=Object(p.a)(c,2),d=i[0],h=i[1],g=[],f=Object.freeze({popular:"popular",notPopular:"notPopular",hasImage:"hasImage",hasNoImage:"hasNoImage",hasSubs:"hasSubs",hasNoSubs:"hasNoSubs",isComplete:"isComplete",justTitle:"justTitle"});function w(){return(w=Object(u.a)(m.a.mark((function t(){var a,n,s,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r([]),a=e.newsUrl,console.log("url is :"+a),t.next=5,fetch(a);case 5:return n=t.sent,t.next=8,n.json();case 8:s=t.sent,g=s.top.map((function(e){return x(e)})),console.debug("tempNews list updated, its length is ",g.length),o=E(),r(o);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){console.log("creating Sections of newsStories");for(var e=[];g.length>0;)if(e.push(y()),e.push(S()),e.push(C()),e.push(S()),e.slice(e.length-4).every((function(e){return""===e}))){if(!(g.length>=4))break;e.push(k()),console.debug("remaining stories are ",g.length)}return e}function b(e,t){for(var a,n=function(n){var s=t[n];if(e.every((function(e){return s.categories.some((function(t){return t===e}))})))return a=n,"break"},s=0;s<t.length;s++){if("break"===n(s))break}if(console.log("found main story, its index is :"+a),void 0===a)return"";var o=t.splice(a,1)[0];return console.log(o),o}function N(e,t){for(var a=e.slice(),n=[],s=[];n.length<t;){for(s=[];null!==s&&0===s.length;)for(var o=[],r=[],l=[],c=[],i=0;i<a.length;i++){var m=a[i];if(o.length>0&&m.categories.includes(f.hasNoImage)?(console.log("pushing to catA1  list- has no image"),o.push(i)):0===o.length&&m.categories.includes(f.popular)&&m.categories.includes(f.hasImage)&&(o.push(i),console.log("pushing to catA0 list - isPopular and has image")),m.categories.includes(f.notPopular)&&m.categories.includes(f.isComplete)&&(r.push(i),console.log("pushing to catB list")),m.categories.includes(f.hasNoImage)&&m.categories.includes(f.hasSubs)&&(l.push(i),console.log("pushing to catC list")),m.categories.includes(f.justTitle)&&(c.push(i),console.log("pushing to catC list")),o.length>1){console.log(o),s.push(a.splice(o[0],1)[0]),s.push(a.splice(o[1]-1,1)[0]),console.log("catA full1st title :"+s[0].title+" 2nd title : "+s[1].title);break}if(r.length>1){console.log(r),s.push(a.splice(r[0],1)[0]),s.push(a.splice(r[1]-1,1)[0]),console.log("catB full1st title :"+s[0].title+" 2nd title : "+s[1].title);break}if(l.length>2){s.push(a.splice(l[0],1)[0]),s.push(a.splice(l[1]-1,1)[0]),s.push(a.splice(l[2]-2,1)[0]),console.log("catC full1st title :"+s[0].title+" 2nd title : "+s[1].title+" 3rd title : "+s[2].title);break}if(c.length>3){s.push(a.splice(c[0],1)[0]),s.push(a.splice(c[1]-1,1)[0]),s.push(a.splice(c[2]-2,1)[0]),s.push(a.splice(c[3]-3,1)[0]),console.log("catD full"+o.join(",")+"1st title :"+s[0].title+" 2nd title : "+s[1].title+" 3rd title : "+s[2].title+" 4th title : "+s[3].title);break}if(i===a.length-1){console.log("can't get std col anymore, discarding colsList and returning empty Std ColList instead"),s=null;break}}if(n.push(s),n.includes(null))return[[],e]}return[n,a]}function y(){var e=g.slice(),t=[],a=b([f.isComplete,f.popular],e);if(0===a.length)return"";t.push(a);var n,o=N(e,2),r=Object(p.a)(o,2);return n=r[0],e=r[1],0===n.length?"":(t.push(n[0]),t.push(n[1]),console.debug("will update tempNewsList from copy",g.length,e.length),g=e.slice(),console.debug("updated tempNewsList from copy",g.length,e.length),s.a.createElement("section",{className:"top"},s.a.createElement("div",{className:"topLeft"},s.a.createElement(v,{newsStory:t[0],newsType:"main"})),s.a.createElement("div",{className:"topRight"},s.a.createElement("div",{className:"stdCol"}," ",t[1].map((function(e){return s.a.createElement(v,{newsStory:e,newsType:"normal"})})))),s.a.createElement("div",{className:"topRight"},s.a.createElement("div",{className:"stdCol"}," ",t[2].map((function(e){return s.a.createElement(v,{newsStory:e,newsType:"normal"})}))))))}function S(){var e=g.slice(),t=[],a=N(e,4),n=Object(p.a)(a,2);return t=n[0],e=n[1],console.log("stdColList is :"+t),0===t.length?"":(g=e.slice(),s.a.createElement("section",{className:"middle"},t.map((function(e){return s.a.createElement("div",{className:"stdCol"}," ",e.map((function(e){return s.a.createElement(v,{newsStory:e,newsType:"normal"})})))}))))}function C(){var e=g.slice(),t=[];return console.debug("section 3 stories list contains",t),t.push(),t.push(b([f.hasImage],e)),t.push(b([f.hasImage],e)),t.some((function(e){return""===e}))?"":(g=e.slice(),s.a.createElement("section",{className:"bottom"},s.a.createElement(v,{newsStory:t[0],newsType:"bottom"}),s.a.createElement(v,{newsStory:t[1],newsType:"bottom"})))}function k(){var e=g.splice(0,4);return s.a.createElement("section",{className:"middle last"},e.map((function(e){return s.a.createElement(v,{newsStory:e,newsType:"normal"})})))}function x(e){var t=[];return!function(e){var t=new Date(e.time),a=((new Date).getTime()-(t*=1e3))/864e5,n=Math.floor(a),s=Math.floor(24*a),o=(Math.floor(60*(a-n)),e.score);if(s<12&&s>=0&&o>=10*s)return!0;return s>=12&&o>=120}(e)?t.push(f.notPopular):t.push(f.popular),void 0===e.htCurrentImage&&void 0===e.htCurrentSubtitle?t.push(f.justTitle):void 0!==e.htCurrentImage&&void 0!==e.htCurrentSubtitle&&t.push(f.isComplete),void 0===e.htCurrentImage?t.push(f.hasNoImage):t.push(f.hasImage),void 0===e.htCurrentSubtitle?t.push(f.hasNoSubs):t.push(f.hasSubs),e.categories=t,e}function I(t){var a=e.newsUrl;return a.includes(t)||a.includes("top")&&"latest"===t?"selectedTab":""}return Object(n.useEffect)((function(){console.log("useffect called"),function(e){var t=new Date;t.setDate(t.getDate());for(var a=[],n=2;n<7;n++)t.setDate((new Date).getDate()-n),a.push(t.toLocaleDateString(e,{weekday:"long"}).toUpperCase());h(a)}(),function(){w.apply(this,arguments)}()}),[e.newsUrl]),s.a.createElement("div",{className:"homepage"},s.a.createElement("div",{className:"websitetitle"},s.a.createElement("h1",null,"The McLaren Times")),s.a.createElement("div",{className:"navbar"},s.a.createElement(l.b,{to:"/mc-times/latest",style:{textDecoration:"none"},className:"aLink "+I("latest")},s.a.createElement("div",{className:"menuitem"},"LATEST")),s.a.createElement(l.b,{to:"/mc-times/1",style:{textDecoration:"none"},className:"aLink "+I("1day")},s.a.createElement("div",{className:"menuitem"},"YESTERDAY")),d.map((function(e,t){return s.a.createElement(l.b,{to:"/mc-times/".concat(t+2),style:{textDecoration:"none"},className:"aLink "+I("".concat(t+2,"day"))},s.a.createElement("div",{className:"menuitem"},e))}))),0===o.length?s.a.createElement("div",{className:"newsbody",style:{height:"100vh"}},s.a.createElement("div",{className:"loadingScreen"},s.a.createElement("div",{className:"lds-spinner"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)))):s.a.createElement("div",{className:"newsbody"},o))}var E=function(){var e="https://hacker-times.s3-us-west-1.amazonaws.com/topStories_prod";return s.a.createElement(l.a,null,s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/mc-times/latest"},s.a.createElement(w,{newsUrl:e}),"/>"),s.a.createElement(c.a,{exact:!0,path:"/"},s.a.createElement(w,{newsUrl:e})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/1"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/1dayStories_prod"})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/2"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/2dayStories_prod"})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/3"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/3dayStories_prod"})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/4"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/4dayStories_prod"})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/5"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/5dayStories_prod"})),s.a.createElement(c.a,{exact:!0,path:"/mc-times/6"},s.a.createElement(w,{newsUrl:"https://hacker-times.s3-us-west-1.amazonaws.com/6dayStories_prod"})),s.a.createElement(c.a,{path:"/mc-times"},s.a.createElement(w,{newsUrl:e}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c7116c15.chunk.js.map